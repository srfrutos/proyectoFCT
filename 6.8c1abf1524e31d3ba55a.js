(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ZCAK:function(t,i,r){"use strict";r.r(i),r.d(i,"AddDecksModule",function(){return g});var e=r("ofXK"),o=r("tyNb"),a=r("mrSG"),c=r("3Pt+"),n=r("N/25"),s=r("fXoL"),b=r("CPIe"),l=r("Y/7H");let d=(()=>{class t{transform(t,i){const r=[];for(const e of t){if(""==i||i.length<3)return t;e.nombre.toLowerCase().indexOf(i.toLowerCase())>-1&&r.push(e)}return r}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=s.Mb({name:"filterAddDecks",type:t,pure:!0}),t})();function h(t,i){if(1&t&&(s.Tb(0,"td"),s.tc(1),s.Sb()),2&t){const t=i.$implicit;s.Db(1),s.uc(t)}}function u(t,i){if(1&t){const t=s.Ub();s.Tb(0,"tr"),s.rc(1,h,2,1,"td",5),s.Tb(2,"button",18),s.ac("click",function(){s.nc(t);const r=i.$implicit;return s.cc().removeFromDeck(r)}),s.tc(3,"x"),s.Sb(),s.Sb()}if(2&t){const t=i.$implicit;s.Db(1),s.ic("ngForOf",t)}}function m(t,i){if(1&t){const t=s.Ub();s.Tb(0,"div",19),s.Tb(1,"div",20),s.Tb(2,"a",21),s.ac("click",function(){s.nc(t);const r=i.$implicit;return s.cc().addToDeck(r.id,r.nombre)}),s.Ob(3,"img",22),s.Sb(),s.Sb(),s.Sb()}if(2&t){const t=i.$implicit;s.Db(3),s.jc("src",t.img,s.oc)}}const p=[{path:"",component:(()=>{class t{constructor(t,i,r,e,o){var a,c;this.router=t,this.cardsSvc=i,this.decksSvc=r,this.fb=e,this.authSvc=o,this.filterCard="",this.uid=this.authSvc.getUid(),this.cards$=this.cardsSvc.cards,this.cardList$=[],this.arraySaveDeck=[],this.arrayRep=[],this.cont=1,this.exist=!1,this.total=0,this.contador=0,this.navigationExtras={state:{value:null}};const n=this.router.getCurrentNavigation();this.deck=null===(c=null===(a=null==n?void 0:n.extras)||void 0===a?void 0:a.state)||void 0===c?void 0:c.value}initForm(){this.deckForm=this.fb.group({name:["",[c.o.required]]})}ngOnInit(){this.initForm()}addToDeck(t,i){for(let r in this.cardList$)this.cardList$[r].map(t=>t)[0]==parseInt(t)&&(this.cont=this.cardList$[r].map(t=>t)[2]+1,this.cardList$[r]=[t,i,this.cont],this.exist=!0,this.total++,this.cont=1,this.arraySaveDeck.push(t));0==this.exist&&(this.cardList$.push([t,i,this.cont]),this.total++,this.arraySaveDeck.push(t)),this.exist=!1}removeFromDeck(t){t[2]>1?(t[2]--,this.total--,this.arraySaveDeck.splice(t[1],1)):(this.cardList$.splice(t[1],1),this.arraySaveDeck.splice(t[1],1),this.total--)}saveDeck(){var t;return Object(a.b)(this,void 0,void 0,function*(){if(this.deckForm.valid){const i=this.deckForm.value,r=(null===(t=this.deck)||void 0===t?void 0:t.id)||null,e=this.arraySaveDeck.sort();console.log(e);for(let t=0;t<=e.length;t++)t<e.length&&(e[t]==e[t+1]?this.contador=this.contador+1:(console.log(this.contador),this.arrayRep.push(this.contador+1),this.contador=0));console.log(this.arrayRep),this.decksSvc.saveDecks(i,r,e,this.arrayRep,yield this.uid),this.arraySaveDeck=[],this.total=0,this.cardList$.splice(0),this.deckForm.reset(),alert("El mazo ha sido creado"),this.router.navigate(["decks"])}})}}return t.\u0275fac=function(i){return new(i||t)(s.Nb(o.a),s.Nb(b.a),s.Nb(l.a),s.Nb(c.b),s.Nb(n.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-add-decks"]],features:[s.Cb([n.a])],decls:34,vars:10,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-3","d-md-block","sidebar","sticky"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col-md-7","ml-sm-auto","col-lg-9","pt-3","px-4"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"form-inline","my-2","my-lg-0",3,"formGroup","ngSubmit"],["id","name","type","text","placeholder","Enter name","formControlName","name",1,"form-control","mr-sm-2"],["type","submit",1,"btn","btn-secondary","my-2","my-sm-0"],["type","button","data-toggle","collapse","data-target","#navbarColor03","aria-controls","navbarColor03","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor03",1,"collapse","navbar-collapse","mr-0"],[1,"form-inline","my-2","my-lg-0"],["type","text","placeholder","Search","name","filterCard",1,"form-control","mr-sm-2",3,"ngModel","ngModelChange"],[1,"row","cols-8","justify-content-center"],["class"," m-3",4,"ngFor","ngForOf"],[1,"btn","btn-light","mt-1","border-0",3,"click"],[1,"m-3"],[1,"container","p-0","mb-1"],[3,"click"],["width","220px","height","316px",3,"src"]],template:function(t,i){1&t&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"nav",2),s.Tb(3,"table",3),s.Tb(4,"thead"),s.Tb(5,"tr"),s.Tb(6,"th",4),s.tc(7,"N\xba"),s.Sb(),s.Tb(8,"th",4),s.tc(9,"Name"),s.Sb(),s.Ob(10,"th",4),s.Sb(),s.Sb(),s.Tb(11,"tbody"),s.rc(12,u,4,1,"tr",5),s.Sb(),s.Tb(13,"tfoot"),s.Tb(14,"tr"),s.Tb(15,"td",4),s.tc(16,"Total"),s.Sb(),s.Tb(17,"td",4),s.tc(18),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(19,"div",6),s.Tb(20,"nav",7),s.Tb(21,"form",8),s.ac("ngSubmit",function(){return i.saveDeck()}),s.Ob(22,"input",9),s.Tb(23,"button",10),s.tc(24,"New"),s.Sb(),s.Sb(),s.Tb(25,"button",11),s.Ob(26,"span",12),s.Sb(),s.Tb(27,"div",13),s.Tb(28,"form",14),s.Tb(29,"input",15),s.ac("ngModelChange",function(t){return i.filterCard=t}),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(30,"div",16),s.rc(31,m,4,1,"div",17),s.dc(32,"filterAddDecks"),s.dc(33,"async"),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.Db(12),s.ic("ngForOf",i.cardList$),s.Db(6),s.uc(i.total),s.Db(3),s.ic("formGroup",i.deckForm),s.Db(8),s.ic("ngModel",i.filterCard),s.Db(2),s.ic("ngForOf",s.fc(32,5,s.ec(33,8,i.cards$),i.filterCard)))},directives:[e.i,c.p,c.j,c.g,c.a,c.i,c.e,c.k,c.l],pipes:[d,e.b],styles:[".sticky[_ngcontent-%COMP%]{position:sticky;top:0;margin-top:5px}"]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({imports:[[o.d.forChild(p)],o.d]}),t})();var v=r("+0xr");let g=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({imports:[[e.c,f,v.a,c.m,c.h],v.a]}),t})()}}]);